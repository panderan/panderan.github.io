<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="windows系统盘的大小随着使用的时间的增长使用量也会随着逐渐增长，因此，适当清理无用文件和垃圾就显得很有必要。此文记录一些关于清理磁盘的一些方法。">
<meta property="og:type" content="article">
<meta property="og:title" content="Windows系统清理随记">
<meta property="og:url" content="https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/index.html">
<meta property="og:site_name" content="Deran Pan&#39;s Pages">
<meta property="og:description" content="windows系统盘的大小随着使用的时间的增长使用量也会随着逐渐增长，因此，适当清理无用文件和垃圾就显得很有必要。此文记录一些关于清理磁盘的一些方法。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/blg-006-1.jpeg">
<meta property="og:image" content="https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/blg-006-2.PNG">
<meta property="og:image" content="https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/blg-006-3.PNG">
<meta property="og:image" content="https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/blg-006-4.PNG">
<meta property="og:image" content="https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/blg-006-5.PNG">
<meta property="article:published_time" content="2017-01-04T06:29:38.000Z">
<meta property="article:modified_time" content="2022-01-01T14:07:40.337Z">
<meta property="article:author" content="Deran Pan">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/blg-006-1.jpeg">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>Windows系统清理随记</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
		<script type="text/x-mathjax-config">
		  MathJax.Hub.Config({
			tex2jax: {
			  skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
			  inlineMath: [['$','$']]
			}
		  });
		</script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
	
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.0.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/about/">关于</a></li><!--
     --><!--
       --><li><a href="/archives/">归档</a></li><!--
     --><!--
       --><li><a href="/projects_url">项目</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="上一篇" href="/2017/01/04/ubuntu_desktop_customizing/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="返回顶部" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="分享文章" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">上一篇</span>
      <span id="i-next" class="info" style="display:none;">下一篇</span>
      <span id="i-top" class="info" style="display:none;">返回顶部</span>
      <span id="i-share" class="info" style="display:none;">分享文章</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/&text=Windows系统清理随记"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/&title=Windows系统清理随记"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/&is_video=false&description=Windows系统清理随记"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Windows系统清理随记&body=Check out this article: https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/&title=Windows系统清理随记"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/&title=Windows系统清理随记"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/&title=Windows系统清理随记"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/&title=Windows系统清理随记"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/&name=Windows系统清理随记&description=&lt;p&gt;windows系统盘的大小随着使用的时间的增长使用量也会随着逐渐增长，因此，适当清理无用文件和垃圾就显得很有必要。此文记录一些关于清理磁盘的一些方法。&lt;/p&gt;"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/&t=Windows系统清理随记"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%A3%81%E7%9B%98%E4%BD%BF%E7%94%A8%E5%88%86%E6%9E%90"><span class="toc-number">1.</span> <span class="toc-text">1. 磁盘使用分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-C-Windows-Installer%E7%9B%AE%E5%BD%95"><span class="toc-number">2.</span> <span class="toc-text">2. C:\Windows\Installer目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-C-Windows-WinSxS%E7%9B%AE%E5%BD%95"><span class="toc-number">3.</span> <span class="toc-text">3. C:&#x2F;Windows&#x2F;WinSxS目录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%85%E7%90%86%E6%96%B9%E6%B3%951"><span class="toc-number">3.1.</span> <span class="toc-text">清理方法1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%85%E7%90%86%E6%96%B9%E6%B3%952"><span class="toc-number">3.2.</span> <span class="toc-text">清理方法2</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Windows系统清理随记
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Deran Pan</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2017-01-04T06:29:38.000Z" itemprop="datePublished">2017-01-04</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/%E7%B3%BB%E7%BB%9F%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/">系统使用技巧</a>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>windows系统盘的大小随着使用的时间的增长使用量也会随着逐渐增长，因此，适当清理无用文件和垃圾就显得很有必要。此文记录一些关于清理磁盘的一些方法。</p>
<span id="more"></span>
<h2 id="1-磁盘使用分析"><a href="#1-磁盘使用分析" class="headerlink" title="1. 磁盘使用分析"></a>1. 磁盘使用分析</h2><p>使用过Ubuntu都知道在Ubuntu中有一个磁盘分析工具（Disk Usage  Analyzer）相当实用。他能让你直观的感觉到到底是哪个文件夹哪个文件占据这你宝贵的磁盘空间。Disk Usage Analyzer的界面如下：</p>
<img src="/2017/01/04/windows_system_cleanup_notes/blg-006-1.jpeg" class="" alt="Disk Usage Analyzer">
<p>在windows中虽然系统中没有提供类似的工具，但是通过安装<a target="_blank" rel="noopener" href="https://windirstat.net/">WinDirStat</a>软件提供类似的功能体验。WinDirStat的软件界面如下：</p>
<img src="/2017/01/04/windows_system_cleanup_notes/blg-006-2.PNG" class="" alt="WinDirStat">
<h2 id="2-C-Windows-Installer目录"><a href="#2-C-Windows-Installer目录" class="headerlink" title="2. C:\Windows\Installer目录"></a>2. C:\Windows\Installer目录</h2><p>当windows系统越用越久，随着各种软件的安装和系统的更新这个目录会越来越大，里面会充斥着各种安装文件（.msi）和补丁文件（.msp）。但是但是里面的这些文件有些是非常有用的，而另外一些确实没有什么用的。关于该目录的解释如下：</p>
<blockquote>
<p><strong>Windows Installer Directory</strong> When applications are installed and updated on the Windows Operating System a hidden directory “c:\Windows\Installer” is used to store the installer (.msi) files and the patch (.msp) files.<br>Generally these files are important as during updating, patching or uninstalling software it will use the .msi/.msp files. If you blanketly delete all the files in this folder, you will find yourself needing to rebuild windows.<br>Over time as your computer is patched and patched again, these installer files become outdated and orphaned. They are no longer required, but they can take up many gigabytes of data.</p>
</blockquote>
<p>虽然如此复杂，但我们关心的是如何清理。在我Google后找到<a target="_blank" rel="noopener" href="http://www.homedev.com.au/Free/PatchCleaner">PatchCleaner</a>软件可以非常便捷的帮助我们分析和清理该目录。详细信息请见软件主页。软件界面如下：</p>
<img src="/2017/01/04/windows_system_cleanup_notes/blg-006-3.PNG" class="" alt="PatchCleaner">
<h2 id="3-C-Windows-WinSxS目录"><a href="#3-C-Windows-WinSxS目录" class="headerlink" title="3. C:/Windows/WinSxS目录"></a>3. C:/Windows/WinSxS目录</h2><p>WinSxS目录同Installer一样，不知不觉的就能涨的GB级别，从几到十几不等的样子。但这个目录里同样也不能随意删除，有很多重要的系统文件在其总，但也不乏无用的文件。关于该目录的简介我就贴点英文好了。</p>
<blockquote>
<p><strong>WinSxS folder Windows 10/8/7</strong> In short, Winsxs, which stands for ‘Windows Side By Side’, is Windows native assembly cache. Libraries which are being by multiple applications are stored there. This feature was first introduced, in Windows ME and was considered as Microsoft’s solution to the so-called ‘dll hell’ issues that plagued Windows 9x. </p>
</blockquote>
<ul>
<li><h3 id="清理方法1"><a href="#清理方法1" class="headerlink" title="清理方法1"></a>清理方法1</h3></li>
</ul>
<p>使用系统自带的磁盘清理工具。打开资源管理器；对C盘右键选择属性；单击磁盘清理；初次扫描完成后再单击清理系统文件按钮；选中windows Update Cleanup即可。如果没有该选项说明WinSxS中没有可清理的内容。  </p>
<ul>
<li><h3 id="清理方法2"><a href="#清理方法2" class="headerlink" title="清理方法2"></a>清理方法2</h3></li>
</ul>
<p>用管理员权限打开命令提示符，输入命令：Dism.exe /online /Cleanup-Image /AnalyzeComponentStore。运行此命令可以分析winsxs的当前状况。如下图所示：</p>
<img src="/2017/01/04/windows_system_cleanup_notes/blg-006-4.PNG" class="" alt="WinSxS清理方法2-1">
<p>可以看到Component Store Cleanup Recommended为No，即不需要清理。如果为Yes即推荐清理，键入命令：Dism.exe /online /Cleanup-Image /StartComponentCleanup。即可开始清理。如下图所示：</p>
<img src="/2017/01/04/windows_system_cleanup_notes/blg-006-5.PNG" class="" alt="winsxs清理方法2-2">

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">首页</a></li>
         
          <li><a href="/about/">关于</a></li>
         
          <li><a href="/archives/">归档</a></li>
         
          <li><a href="/projects_url">项目</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%A3%81%E7%9B%98%E4%BD%BF%E7%94%A8%E5%88%86%E6%9E%90"><span class="toc-number">1.</span> <span class="toc-text">1. 磁盘使用分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-C-Windows-Installer%E7%9B%AE%E5%BD%95"><span class="toc-number">2.</span> <span class="toc-text">2. C:\Windows\Installer目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-C-Windows-WinSxS%E7%9B%AE%E5%BD%95"><span class="toc-number">3.</span> <span class="toc-text">3. C:&#x2F;Windows&#x2F;WinSxS目录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%85%E7%90%86%E6%96%B9%E6%B3%951"><span class="toc-number">3.1.</span> <span class="toc-text">清理方法1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%85%E7%90%86%E6%96%B9%E6%B3%952"><span class="toc-number">3.2.</span> <span class="toc-text">清理方法2</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/&text=Windows系统清理随记"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/&title=Windows系统清理随记"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/&is_video=false&description=Windows系统清理随记"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Windows系统清理随记&body=Check out this article: https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/&title=Windows系统清理随记"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/&title=Windows系统清理随记"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/&title=Windows系统清理随记"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/&title=Windows系统清理随记"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/&name=Windows系统清理随记&description=&lt;p&gt;windows系统盘的大小随着使用的时间的增长使用量也会随着逐渐增长，因此，适当清理无用文件和垃圾就显得很有必要。此文记录一些关于清理磁盘的一些方法。&lt;/p&gt;"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://panderan.github.io/2017/01/04/windows_system_cleanup_notes/&t=Windows系统清理随记"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> 菜单</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> 目录</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2017-2022
    Deran Pan
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/about/">关于</a></li><!--
     --><!--
       --><li><a href="/archives/">归档</a></li><!--
     --><!--
       --><li><a href="/projects_url">项目</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->


 
  <link
    rel="preload"
    href="/lib/font-awesome/css/all.min.css"
    as="style"
    onload="this.onload=null;this.rel='stylesheet'"
  />
  <noscript
    ><link
      rel="stylesheet"
      href="/lib/font-awesome/css/all.min.css"
  /></noscript>


    <!-- jquery -->
 
  
<script src="/lib/jquery/jquery.min.js"></script>





<!-- clipboard -->

   
    
<script src="/lib/clipboard/clipboard.min.js"></script>

  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"复制到粘贴板!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "复制成功!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
